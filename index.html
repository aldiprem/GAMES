<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TikTok Snake Battle - Male vs Female</title>
    <link rel="stylesheet" href="/GAMES/static/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <h1>ğŸ TikTok Snake Battle ğŸ</h1>
            <div class="connection-controls">
                <div class="tiktok-status">
                    <span class="status-indicator" id="tiktok-status">ğŸŸ¢</span>
                    <span>TikTok</span>
                </div>
                <button onclick="toggleTikTokTest()" class="test-btn" id="test-btn">
                    ğŸ§ª Test Mode ON
                </button>
            </div>
        </header>

        <!-- TikTok Connection Panel -->
        <div class="tiktok-connect-panel">
            <input type="text" id="tiktok-username" placeholder="@username" value="tiktok_live_streamer">
            <button onclick="connectTikTok()" class="connect-btn">ğŸ”Œ Connect TikTok</button>
            <span id="tiktok-connection-status" class="connection-status-text">Test Mode Active</span>
        </div>

        <!-- Score Board -->
        <div class="score-board">
            <div class="team-score female-score">
                <span class="team-icon">ğŸ‘©</span>
                <span class="score-label">Perempuan</span>
                <span class="score-value" id="female-score">0</span>
            </div>
            <div class="round-info">
                <span class="round-label">Round</span>
                <span class="round-value" id="round">1</span>
            </div>
            <div class="team-score male-score">
                <span class="team-icon">ğŸ‘¨</span>
                <span class="score-label">Laki-laki</span>
                <span class="score-value" id="male-score">0</span>
            </div>
        </div>

        <!-- Game Grid - 15x10 dengan border jelas -->
        <div class="game-container">
            <div class="grid" id="game-grid">
                <!-- Grid akan di-generate oleh JavaScript -->
            </div>
            
            <!-- Team Labels -->
            <div class="team-label-left">ğŸ‘© PEREMPUAN</div>
            <div class="team-label-right">ğŸ‘¨ LAKI-LAKI</div>
            
            <!-- Game Over Overlay -->
            <div id="game-overlay" class="game-overlay hidden">
                <h2 id="winner-message"></h2>
                <button onclick="resetGame()" class="reset-btn">Main Lagi</button>
            </div>
        </div>

        <!-- Test Controls -->
        <div class="test-controls">
            <h3>ğŸ§ª Test Mode Controls</h3>
            <div class="test-buttons">
                <button onclick="sendTestGift('rose', 5)" class="test-gift-btn female-btn">
                    ğŸŒ¹ Mawar (+5 Apel)
                </button>
                <button onclick="sendTestGift('tiktok_gift', 5)" class="test-gift-btn male-btn">
                    ğŸ Gift (+5 Apel)
                </button>
                <button onclick="sendTestGift('jari_hati', 1)" class="test-gift-btn bomb-btn">
                    ğŸ¤Ÿ Jari Hati (+1 Bomb)
                </button>
                <button onclick="sendTestGift('nasi_padang', 1)" class="test-gift-btn bomb-btn">
                    ğŸš Nasi Padang (+1 Bomb)
                </button>
                <button onclick="sendTestGift('like', 5)" class="test-gift-btn like-btn">
                    â¤ï¸ 5000 Likes (Random)
                </button>
                <button onclick="sendTestGift('like', 10)" class="test-gift-btn like-btn">
                    â¤ï¸ 10K Likes (Max)
                </button>
            </div>
        </div>

        <!-- Gift Log -->
        <div class="gift-log" id="gift-log">
            <div class="log-header">ğŸ Live Events Log</div>
            <div class="log-messages" id="log-messages">
                <div class="log-placeholder">Menunggu event dari TikTok...</div>
            </div>
        </div>
    </div>

    <script src="/GAMES/static/game.js"></script>
</body>
</html>
